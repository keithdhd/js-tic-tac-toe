{"version":3,"sources":["webpack:///webpack/bootstrap 21a02cc57ac45f54eb9d","webpack:///./src/app.js","webpack:///./src/board.js","webpack:///./src/controller.js","webpack:///./src/view.js","webpack:///./src/win_checker.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACRA;;AAEA;;AAEA;AACA;AACA,oBAAmB,2BAA2B;AAC9C;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,wB;;;;;;ACtBA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;;AAEA,6B;;;;;;ACzCA;;AAEA;;AAEA;AACA;;AAEA,iBAAgB,kBAAkB;AAClC;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAgB,kBAAkB;AAClC;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;;AAEA,iBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA,iBAAgB,kBAAkB;AAClC;AACA;AACA;;;AAGA;;AAEA,uB;;;;;;ACtEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL,wB;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;;AAEA,6B","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 21a02cc57ac45f54eb9d","var board = require('./board');\nvar controller = require('./controller');\nvar view = require('./view');\nvar winChecker = require('./win_checker');\n\nwindow.onload = function(){\n  board.create(3);\n  controller.init(board, view, winChecker);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app.js\n// module id = 0\n// module chunks = 0","var board = {\n\n  filledSquares: 0,\n\n  create: function(boardSize){\n    this.state = [];\n    for (var i = 0; i < boardSize * boardSize; i++) {\n       this.state[i] = null;\n    }\n  },\n\n  setState: function(currentPlayer, chosenSquare){\n    if(!this.state[chosenSquare]){\n      this.state[chosenSquare] = currentPlayer;\n      this.filledSquares++;\n      return true;\n    }\n    return false;\n  }\n\n}\n\nmodule.exports = board;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/board.js\n// module id = 1\n// module chunks = 0","var controller = {\n\n  currentPlayer: 'x',\n\n  init: function(board, view, winChecker){\n    this.view = view;\n    this.board = board;\n    this.winChecker = winChecker;\n    this.view.setUp(this.board);\n    this.view.onPlay = this.onPlay.bind(this);\n  },\n\n  onPlay: function(chosenSquare) {\n    var validPlay = this.board.setState(this.currentPlayer, chosenSquare);\n\n    if(validPlay){\n      this.view.render(this.board);\n\n      this.winChecker.checkForWin(this.board, this.view ,(winner, combo) => {\n        this.view.showWin(winner, combo);\n      });\n\n      this.currentPlayer = this.switchPlayer(this.currentPlayer);\n    }\n  },\n\n  switchPlayer: function(current){\n    if(current === 'x') {\n      return 'o';\n    }\n    else{\n      return 'x';\n    };\n  },\n\n  checkForDraw: function(board){\n    return board.filledSquares === board.state.length;\n  }\n\n}\n\nmodule.exports = controller;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/controller.js\n// module id = 2\n// module chunks = 0","var view = {\n\n  onPlay: null,\n\n  render: function(board){\n    var squares = this.container.querySelectorAll('span');\n \n    for(var i=0; i<squares.length; i++){\n      squares[i].innerHTML = board.state[i];\n    }\n  },\n\n  setUp: function(board){\n    this.container = document.querySelector('#app');\n    this.arrayToRows(board.state);\n  },\n\n  arrayToRows: function(arr){\n    var squares = [];\n    var boardSize = Math.sqrt(arr.length);\n    var copy = (JSON.parse(JSON.stringify(arr)));\n\n    while (copy.length > 0)\n      squares.push(copy.splice(0, boardSize));\n\n    for(let i=0; i<squares.length; i++){\n      let row = this.createRow(squares[i], i, boardSize);\n      this.container.appendChild(row);\n    }\n  },\n\n  createRow: function(arr, incr, boardSize){\n    var row = document.createElement('div');\n\n    for(let i=0; i<arr.length; i++){\n      var span = document.createElement('span');\n      span.className = 'square';\n      span.setAttribute('data-index', (incr * boardSize + i));\n      span.addEventListener('click', () => {\n        if(this.onPlay) this.onPlay((incr * boardSize + i));\n      });\n      row.appendChild(span);\n    }\n    return row;\n  },\n\n  showWin: function(winner, combo){\n    console.log(\"winner:\", winner, \"combo:\", combo);\n    this.onPlay = null;\n\n    var squares = this.container.querySelectorAll('span');\n    \n    for(var i=0; i<squares.length; i++){\n      if(combo.includes(i))\n        squares[i].classList.remove('draw');\n        squares[i].classList.add('win');\n    }\n  },\n\n  showDraw: function(){\n    var squares = this.container.querySelectorAll('span');\n    \n    for(var i=0; i<squares.length; i++){\n      squares[i].classList.add('draw');\n    }\n  }\n\n\n}\n\nmodule.exports = view;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view.js\n// module id = 3\n// module chunks = 0","var winChecker = {\n\n  winningCombos: [[0,1,2], [3,4,5], [6,7,8], [0,3,6], [1,4,7], [2,5,8], [0,4,8], [6,4,2]],\n\n  checkForWin: function(board, view, onWin){\n    console.log(\"checking for win:\");\n\n    if(board.filledSquares === board.state.length){\n      console.log(\"FULL\");\n      view.showDraw();\n    }\n\n    const xSquares = this.getCombos(board, 'x');\n    const oSquares = this.getCombos(board, 'o');\n\n    this.winningCombos.forEach((combo, index) => {\n      if(this.checkCombo(xSquares, combo, Math.sqrt(board.state.length))){\n        onWin('x', combo);\n      };\n        \n      if(this.checkCombo(oSquares, combo, Math.sqrt(board.state.length))){\n        onWin('o', combo);\n      }\n    });\n  },\n\n  checkCombo: function(squares, winningCombo, size){\n    var count = 0;\n\n    winningCombo.forEach(function(item, index){\n      if(squares.includes(item)){\n        count++;\n      }\n    });\n\n    if(count === size){  \n      return true;\n    }\n    return false;\n  },\n\n  getCombos: function(board, player){\n    var filledSquares = [];\n\n    board.state.forEach(function(square, index){\n      if(square === player) filledSquares.push(index);\n    })\n\n    return filledSquares;\n  }\n\n}\n\nmodule.exports = winChecker;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/win_checker.js\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}